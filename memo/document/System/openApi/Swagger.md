# Swagger (OpenAPI) 雛形チェックリスト

この雛形を API ごとにコピーして作成することで、基本設計で決めるべき事項を網羅できます。

同じ階層のymlファイルは基本設計レベルの内容を定義した

---

## 1. エンドポイント設計

- **API の URL パス**  
  命名規則：リソース指向、複数形など

- **HTTP メソッド**  
  GET / POST / PUT / PATCH / DELETE

- **バージョニング方式**  
  例: `/api/v1/`

---

## 2. 認証・認可

- **認証方式**  
  JWT / OAuth2 / Cookie / API Key

- **認可の有無**  
  ユーザー権限での制御が必要か

- **セッション管理の方針**  
  タイムアウト、更新

---

## 3. リクエスト仕様

- **必須パラメータと任意パラメータの区別**

- **パラメータの型**  
  string / number / boolean / array / object

- **パラメータの制約**  
  最大長、数値範囲、正規表現など

- **入力フォーマット**  
  日付・時刻・金額・ID など

---

## 4. レスポンス仕様

- **ステータスコードの定義**  
  200, 201, 400, 401, 403, 404, 500 など

- **レスポンス形式**  
  JSON 固定か、ファイル返却があるか

- **正常レスポンスの例**  
  サンプル JSON

- **エラーレスポンスの例**  
  エラーコード、メッセージフォーマット

---

## 5. 共通仕様

- **ページング方法**  
  limit/offset か cursor 方式か

- **ソート・フィルタリングの指定方法**

- **タイムゾーンの扱い**  
  UTC 固定 or ローカル

- **小数・金額の扱い**  
  桁数、通貨単位

---

## 6. エラーハンドリング

- **共通エラーコードの定義**  
  例: `E001=バリデーションエラー`

- **エラーレスポンス構造**  
  `{ code, message, details }` など

- **バリデーションエラー時のレスポンス形式**  
  フィールド単位か、まとめて返すか

---

## 7. 非機能要件に関わる項目

- **API 応答時間の目安**  
  例: 95% が 500ms 以内

- **同時リクエスト数やレート制限**  
  Rate Limit

- **リトライ方針**  
  フロントでリトライするか、サーバー側で保証するか

- **ロギングの粒度**  
  リクエスト・レスポンスのログ方針
